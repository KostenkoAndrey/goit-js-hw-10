{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["`use strict`\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nlet userSelectedDate = null;\nlet timerInterval = null;\nconst BtnStart = document.querySelector(\"button[data-start]\");\nconst timeContainer = document.querySelector(\".timer\")\nconst input = document.getElementById(\"datetime-picker\");\nconst daysDisplay = document.querySelector(\"[data-days]\");\nconst hoursDisplay = document.querySelector(\"[data-hours]\");\nconst minutesDisplay = document.querySelector(\"[data-minutes]\");\nconst secondsDisplay = document.querySelector(\"[data-seconds]\");\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0]; \n        console.log(\"Selected Date:\", userSelectedDate.getTime());\n        Timer.checkDate();\n    },\n};\n\nflatpickr(\"#datetime-picker\", options);\nBtnStart.disabled = true;\n\nclass Timer {\n    static checkDate() {\n        if(userSelectedDate.getTime() < Date.now()){\n            iziToast.show({\n                title: 'Error',\n                message: 'Please choose a date in the future',\n                color: \"red\"\n            });\n            BtnStart.disabled = true;\n        } else {\n            BtnStart.disabled = false;\n        }\n    }\n\n    static start() {\n        BtnStart.disabled = true;\n        input.disabled = true;\n        timerInterval = setInterval(()=>{\n            const currentTime = Date.now();\n            const DeltaTime = userSelectedDate.getTime() - currentTime;\n\n            if(DeltaTime <= 0){\n                clearInterval(timerInterval);\n                input.disabled = false;\n                BtnStart.disabled = false; \n                return;\n            }\n            const { days, hours, minutes, seconds } = Timer.convertMs(DeltaTime);\n            daysDisplay.textContent = Timer.addLeadingZero(days);\n            hoursDisplay.textContent = Timer.addLeadingZero(hours);\n            minutesDisplay.textContent = Timer.addLeadingZero(minutes);\n            secondsDisplay.textContent = Timer.addLeadingZero(seconds);\n        }, 1000);  \n    }\n\n    static convertMs(ms) {\n        const second = 1000;\n        const minute = second * 60;\n        const hour = minute * 60;\n        const day = hour * 24;\n\n        const days = Math.floor(ms / day);\n        const hours = Math.floor((ms % day) / hour);\n        const minutes = Math.floor(((ms % day) % hour) / minute);\n        const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n        return { days, hours, minutes, seconds };\n    }\n\n    static addLeadingZero(value) {\n                return String(value).padStart(2, \"0\");\n            }\n};\nBtnStart.addEventListener(\"click\", Timer.start.bind(Timer));"],"names":["userSelectedDate","timerInterval","BtnStart","input","daysDisplay","hoursDisplay","minutesDisplay","secondsDisplay","options","selectedDates","Timer","flatpickr","iziToast","currentTime","DeltaTime","days","hours","minutes","seconds","ms","value"],"mappings":"0IAOA,IAAIA,EAAmB,KACnBC,EAAgB,KACpB,MAAMC,EAAW,SAAS,cAAc,oBAAoB,EACtC,SAAS,cAAc,QAAQ,EACrD,MAAMC,EAAQ,SAAS,eAAe,iBAAiB,EACjDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAExDC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBT,EAAmBS,EAAc,CAAC,EAClC,QAAQ,IAAI,iBAAkBT,EAAiB,QAAS,CAAA,EACxDU,EAAM,UAAS,CAClB,CACL,EAEAC,EAAU,mBAAoBH,CAAO,EACrCN,EAAS,SAAW,GAEpB,MAAMQ,CAAM,CACR,OAAO,WAAY,CACZV,EAAiB,QAAO,EAAK,KAAK,IAAG,GACpCY,EAAS,KAAK,CACV,MAAO,QACP,QAAS,qCACT,MAAO,KACvB,CAAa,EACDV,EAAS,SAAW,IAEpBA,EAAS,SAAW,EAE3B,CAED,OAAO,OAAQ,CACXA,EAAS,SAAW,GACpBC,EAAM,SAAW,GACjBF,EAAgB,YAAY,IAAI,CAC5B,MAAMY,EAAc,KAAK,MACnBC,EAAYd,EAAiB,QAAO,EAAKa,EAE/C,GAAGC,GAAa,EAAE,CACd,cAAcb,CAAa,EAC3BE,EAAM,SAAW,GACjBD,EAAS,SAAW,GACpB,MACH,CACD,KAAM,CAAE,KAAAa,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAKR,EAAM,UAAUI,CAAS,EACnEV,EAAY,YAAcM,EAAM,eAAeK,CAAI,EACnDV,EAAa,YAAcK,EAAM,eAAeM,CAAK,EACrDV,EAAe,YAAcI,EAAM,eAAeO,CAAO,EACzDV,EAAe,YAAcG,EAAM,eAAeQ,CAAO,CAC5D,EAAE,GAAI,CACV,CAED,OAAO,UAAUC,EAAI,CAMjB,MAAMJ,EAAO,KAAK,MAAMI,EAAK,KAAG,EAC1BH,EAAQ,KAAK,MAAOG,EAAK,MAAO,IAAI,EACpCF,EAAU,KAAK,MAAQE,EAAK,MAAO,KAAQ,GAAM,EACjDD,EAAU,KAAK,MAASC,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAJ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACzC,CAED,OAAO,eAAeE,EAAO,CACjB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACvC,CACb,CACAlB,EAAS,iBAAiB,QAASQ,EAAM,MAAM,KAAKA,CAAK,CAAC"}